<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>
<script src="utils.js"></script>
<script>
    //ajax:不刷新页面,实现局部数据更新
    //前后端交互的流程
    //ajax请求的步骤：
    //1.创建ajax对象
    var xhr = new XMLHttpRequest();
    //2.打开一个链接地址  向后台请求的api(application programming interface)接口
    //请求方式 get post put head delete..
    //true 异步 false 同步
    xhr.open("get","data.json",false);

    //3.监听请求的状态
    // 请求状态码，xhr.readystate
    //0 UNSEND 还没发送请求的状态
    //1 OPENED 发起请求的状态
    //2 HEADERS_RECEIVED  返回响应头信息
    //3 LOADING  正在响应状态
    //4 DONE 完成请求的状态
    // 网络状态码 xhr.status  以2开头的三位数都表示成功
    xhr.onreadystatechange = function(){
        if(xhr.readyState==4&&/^2\d{2}$/.test(xhr.status)){
            //console.log(xhr.responseText);//JSON格式的字符串
            var  obj = utils.toJSON(xhr.responseText);
            console.log(obj);
        }
    }
    //4.发送请求
    xhr.send(null);
</script>