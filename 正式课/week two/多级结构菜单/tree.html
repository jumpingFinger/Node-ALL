<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>珠峰培训</title>
    <link rel="stylesheet/less" href="css/tree.less">
    <script src="js/less-2.5.3.min.js"></script>
</head>
<body>
<div class="menu">
    <ul class="level1">
        <li>
            <!--plus:加号 minus:减号-->
            <h3><em class="plus"></em>产品技术部门</h3>
            <ul class="level2">
                <li>
                    <h3><em class="plus"></em>产品部门</h3>
                    <ul class="level3">
                        <li><h3>需求分析小组</h3></li>
                        <li><h3>UE体验小组</h3></li>
                        <li><h3>UI设计师小组</h3></li>
                    </ul>
                </li>
                <li>
                    <h3><em class="plus"></em>开发部分</h3>
                    <ul class="level3">
                        <li>
                            <h3><em class="plus"></em>前端开发</h3>
                            <ul class="level4">
                                <li><h3>传统前端开发</h3></li>
                                <li><h3>APP开发</h3></li>
                                <li><h3>NODE后台开发</h3></li>
                                <li><h3>虚拟现实开发</h3></li>
                            </ul>
                        </li>
                        <li><h3>后台开发</h3></li>
                        <li><h3>架构师团队</h3></li>
                        <li><h3>DB数据分析团队</h3></li>
                        <li><h3>公共技术研发团队</h3></li>
                    </ul>
                </li>
                <li><h3>测试部门</h3></li>
                <li><h3>运维部门</h3></li>
            </ul>
        </li>

        <li>
            <h3><em class="plus"></em>运营推广部门</h3>
            <ul class="level2">
                <li>
                    <h3><em class="plus"></em>产品部门</h3>
                    <ul class="level3">
                        <li><h3>需求分析小组</h3></li>
                        <li><h3>UE体验小组</h3></li>
                        <li><h3>UI设计师小组</h3></li>
                    </ul>
                </li>
                <li>
                    <h3><em class="plus"></em>开发部分</h3>
                    <ul class="level3">
                        <li>
                            <h3><em class="plus"></em>前端开发</h3>
                            <ul class="level4">
                                <li><h3>传统前端开发</h3></li>
                                <li><h3>APP开发</h3></li>
                                <li><h3>NODE后台开发</h3></li>
                                <li><h3>虚拟现实开发</h3></li>
                            </ul>
                        </li>
                        <li><h3>后台开发</h3></li>
                        <li><h3>架构师团队</h3></li>
                        <li><h3>DB数据分析团队</h3></li>
                        <li><h3>公共技术研发团队</h3></li>
                    </ul>
                </li>
                <li><h3>测试部门</h3></li>
                <li><h3>运维部门</h3></li>
            </ul>
        </li>
    </ul>
</div>

<script src="js/jquery-1.11.3.min.js"></script>
</body>
</html>
<script >
    let treeRender =(function(){
        let $menu=$('.menu');
        let bindEvent=function () {
            $menu.on('click',function (e) {
                let target=e.target,
                    tarTag=target.tagName,
                    $target=$(target);
                if(tarTag ==='EM'){
                    target=target.parentNode;
                    tarTag=target.tagName;
                    $target=$(target);
                }
                if(target ==='H3') {
                    let $next=$target.next();
                    if ($next.length === 0) return;
                    let $em=$target.children('em');
                    $em.toggleClass('minus');
                    $next.stop().slideToggle('fast',function (){
                        if($em.hasClass('minus')){
                            //=>已经把当前结构收起了 : 后代都要收起来
                            $next.find('ul').css('display','none');
                        }
                    });
                }
            });
        };

        return {
            init :function(){
                bindEvent();
            }
        }
    })();
    treeRender.init();
</script>